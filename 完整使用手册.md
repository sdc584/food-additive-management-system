# 食品添加剂管理系统 - 完整使用手册

## 📚 目录
1. [快速启动](#快速启动)
2. [功能说明](#功能说明)
3. [操作指南](#操作指南)
4. [故障排除](#故障排除)
5. [API文档](#api文档)

---

## 🚀 快速启动

### 步骤1：初始化数据库
```bash
cd food-additive-system\database
init_data.bat
```

### 步骤2：启动所有服务
```bash
cd ..
RUN.bat
```

### 步骤3：访问系统
- **管理端**: http://localhost:8083 (admin/123456)
- **用户端**: http://localhost:8080 (admin/123456)

---

## 📋 功能说明

### 管理端功能模块

#### 1. 首页 Dashboard
- 数据统计（添加剂总数、库存总量、供应商数量、预警数量）
- 快捷功能入口
- 分类占比图表
- 最近操作记录

#### 2. 添加剂管理
**添加剂列表**
- 查询：按名称、编码、分类、状态搜索
- 新增：添加新的食品添加剂
- 编辑：修改添加剂信息
- 删除：删除添加剂记录
- 查看：查看详细信息

**分类管理**
- 查询：查看所有分类
- 新增：添加新分类
- 编辑：修改分类信息
- 删除：删除分类

#### 3. 库存管理
**库存列表**
- 查询：按添加剂、仓库位置、状态搜索
- 新增：添加库存记录
- 编辑：更新库存信息
- 删除：删除库存记录
- 预警：低于最小库存时红色显示

**预警管理**
- 查看所有预警信息
- 处理预警
- 预警级别：高、中、低

#### 4. 供应商管理
**供应商列表**
- 查询：按名称、联系人搜索
- 新增：添加新供应商
- 编辑：修改供应商信息
- 删除：删除供应商
- 信用等级：A-优秀、B-良好、C-一般

**采购记录**
- 查询：查看所有采购记录
- 新增：创建采购单
- 编辑：修改采购信息
- 删除：删除采购记录
- 状态：待审核、已审核、已入库

#### 5. 使用记录
- 查询使用记录
- 删除记录
- 记录产品名称、批次号、使用数量

#### 6. 检测报告
- 查询检测报告
- 删除报告
- 结果：合格/不合格

#### 7. 操作日志
- 查询：按操作人、操作类型搜索
- 记录：新增、更新、删除操作
- 时间和IP地址

---

## 📖 操作指南

### 添加新的食品添加剂

1. 登录管理端 http://localhost:8083
2. 点击左侧菜单 **"添加剂管理" → "添加剂列表"**
3. 点击 **"新增"** 按钮
4. 填写表单：
   - 添加剂名称：柠檬酸钠
   - 添加剂编码：ADD011
   - CAS号：6132-04-3
   - 选择分类：酸度调节剂
   - 分子式：Na3C6H5O7
   - 用途：酸度调节剂、螯合剂
   - 最大使用量：5.0g/kg
   - 安全等级：A
   - 状态：启用
5. 点击 **"确定"** 保存

### 查看库存预警

1. 登录管理端
2. 点击左侧菜单 **"库存管理" → "预警管理"**
3. 查看预警列表
4. 对于未处理的预警，点击 **"处理"** 按钮
5. 确认处理

### 创建采购记录

1. 登录管理端
2. 点击左侧菜单 **"供应商管理" → "采购记录"**
3. 点击 **"新增采购记录"** 按钮
4. 填写表单：
   - 采购单号：PO202510006
   - 选择添加剂：柠檬酸
   - 选择供应商：上海添加剂有限公司
   - 采购数量：500
   - 单价：25.00
   - 采购日期：选择日期
   - 状态：待审核
5. 点击 **"确定"** 保存

---

## 🔧 故障排除

### 服务启动失败
**症状**: 命令行窗口一闪而过

**解决方案**:
1. 检查MySQL服务是否启动
2. 检查端口是否被占用 (8080, 8081, 8082, 8083)
3. 检查Java和Node.js是否正确安装

### 前端页面空白
**症状**: 浏览器打开后页面空白

**解决方案**:
1. 等待前端编译完成（看到"Compiled successfully"）
2. 刷新浏览器页面 (F5)
3. 清除浏览器缓存

### API请求失败
**症状**: 页面显示"加载失败"

**解决方案**:
1. 检查后端服务是否启动成功
2. 查看后端窗口是否有错误信息
3. 运行 `TEST.bat` 测试API状态

### 数据库连接失败
**症状**: 后端启动报错"数据库连接失败"

**解决方案**:
1. 确认MySQL服务已启动
2. 检查数据库配置：
   - 用户名：root
   - 密码：123456
   - 数据库：food_additive_db
3. 确认数据库已创建

---

## 📡 API文档

### 管理端API (http://localhost:8082/api/admin)

#### 认证接口
- `POST /auth/login` - 管理员登录
- `GET /auth/userInfo` - 获取管理员信息

#### 添加剂接口
- `GET /foodAdditives` - 查询列表
- `GET /foodAdditives/{id}` - 查询详情
- `POST /foodAdditives` - 新增
- `PUT /foodAdditives` - 更新
- `DELETE /foodAdditives/{id}` - 删除

#### 分类接口
- `GET /additiveCategories` - 查询列表
- `GET /additiveCategories/{id}` - 查询详情
- `POST /additiveCategories` - 新增
- `PUT /additiveCategories` - 更新
- `DELETE /additiveCategories/{id}` - 删除

#### 库存接口
- `GET /inventories` - 查询列表
- `GET /inventories/{id}` - 查询详情
- `POST /inventories` - 新增
- `PUT /inventories` - 更新
- `DELETE /inventories/{id}` - 删除

#### 供应商接口
- `GET /suppliers` - 查询列表
- `GET /suppliers/{id}` - 查询详情
- `POST /suppliers` - 新增
- `PUT /suppliers` - 更新
- `DELETE /suppliers/{id}` - 删除

#### 采购记录接口
- `GET /purchaseRecords` - 查询列表
- `GET /purchaseRecords/{id}` - 查询详情
- `POST /purchaseRecords` - 新增
- `PUT /purchaseRecords` - 更新
- `DELETE /purchaseRecords/{id}` - 删除

#### 使用记录接口
- `GET /usageRecords` - 查询列表
- `GET /usageRecords/{id}` - 查询详情
- `POST /usageRecords` - 新增
- `PUT /usageRecords` - 更新
- `DELETE /usageRecords/{id}` - 删除

#### 检测报告接口
- `GET /testReports` - 查询列表
- `GET /testReports/{id}` - 查询详情
- `POST /testReports` - 新增
- `PUT /testReports` - 更新
- `DELETE /testReports/{id}` - 删除

#### 预警接口
- `GET /warnings` - 查询列表
- `GET /warnings/{id}` - 查询详情
- `POST /warnings` - 新增
- `PUT /warnings` - 更新
- `DELETE /warnings/{id}` - 删除

#### 操作日志接口
- `GET /operationLogs` - 查询列表
- `GET /operationLogs/{id}` - 查询详情

---

## 🎯 快速命令

### 启动系统
```bash
RUN.bat
```

### 停止系统
```bash
STOP.bat
```

### 测试系统
```bash
TEST.bat
```

### 初始化数据
```bash
cd database
init_data.bat
```

---

## 📊 系统架构

```
食品添加剂管理系统
├── user-backend (8081)      - 用户端后端
├── admin-backend (8082)     - 管理端后端
├── user-frontend (8080)     - 用户端前端
└── admin-frontend (8083)    - 管理端前端
```

---

## 🎉 开始使用

1. ✅ 访问 http://localhost:8083
2. ✅ 使用 admin/123456 登录
3. ✅ 探索所有功能模块
4. ✅ 添加、查询、修改数据
5. ✅ 查看统计图表和报表

**祝您使用愉快！** 🎊

