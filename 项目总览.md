# 食品添加剂管理系统 - 项目总览

## 📁 项目结构

```
food-additive-system/
├── user-backend/              # 用户端后端 (SpringBoot, 端口8081)
│   ├── src/
│   │   ├── main/
│   │   │   ├── java/com/foodadditive/user/
│   │   │   │   ├── UserBackendApplication.java  ✅ 启动类
│   │   │   │   ├── common/
│   │   │   │   │   └── Result.java              ✅ 统一返回结果
│   │   │   │   ├── entity/                      ⚠️  需要生成10个Entity类
│   │   │   │   ├── mapper/                      ✅ 已生成10个Mapper
│   │   │   │   ├── service/                     ✅ 已生成10个Service
│   │   │   │   │   └── impl/                    ✅ 已生成10个ServiceImpl
│   │   │   │   ├── controller/                  ✅ 已生成10个Controller
│   │   │   │   ├── config/                      ⚠️  需要创建配置类
│   │   │   │   ├── interceptor/                 ⚠️  需要创建拦截器
│   │   │   │   ├── aspect/                      ⚠️  需要创建切面
│   │   │   │   └── util/                        ⚠️  需要创建工具类
│   │   │   └── resources/
│   │   │       ├── application.yml              ✅ 配置文件
│   │   │       └── mapper/                      ⚠️  需要创建XML文件
│   │   └── test/
│   └── pom.xml                                  ✅ Maven配置
│
├── admin-backend/             # 管理端后端 (SpringBoot, 端口8082)
│   ├── src/
│   │   ├── main/
│   │   │   ├── java/com/foodadditive/admin/
│   │   │   │   ├── AdminBackendApplication.java ✅ 启动类
│   │   │   │   ├── common/
│   │   │   │   │   └── Result.java              ✅ 统一返回结果
│   │   │   │   ├── entity/                      ⚠️  需要生成10个Entity类
│   │   │   │   ├── mapper/                      ✅ 已生成10个Mapper
│   │   │   │   ├── service/                     ✅ 已生成10个Service
│   │   │   │   │   └── impl/                    ✅ 已生成10个ServiceImpl
│   │   │   │   ├── controller/                  ✅ 已生成10个Controller
│   │   │   │   ├── config/                      ⚠️  需要创建配置类
│   │   │   │   ├── interceptor/                 ⚠️  需要创建拦截器
│   │   │   │   ├── aspect/                      ⚠️  需要创建切面
│   │   │   │   └── util/                        ⚠️  需要创建工具类
│   │   │   └── resources/
│   │   │       ├── application.yml              ✅ 配置文件
│   │   │       └── mapper/                      ⚠️  需要创建XML文件
│   │   └── test/
│   └── pom.xml                                  ✅ Maven配置
│
├── user-frontend/             # 用户端前端 (Vue, 端口8080)
│   ├── public/                                  ⚠️  需要初始化
│   ├── src/                                     ⚠️  需要开发
│   ├── package.json                             ⚠️  需要创建
│   └── vue.config.js                            ⚠️  需要创建
│
├── admin-frontend/            # 管理端前端 (Vue, 端口8083)
│   ├── public/                                  ⚠️  需要初始化
│   ├── src/                                     ⚠️  需要开发
│   ├── package.json                             ⚠️  需要创建
│   └── vue.config.js                            ⚠️  需要创建
│
├── database/                  # 数据库脚本
│   └── schema.sql                               ✅ 数据库设计脚本
│
├── docs/                      # 文档
│   ├── 开发指南.md                               ✅ 开发指南
│   ├── CodeGenerator.java                       ✅ 代码生成器
│   └── EntityExample.java                       ✅ Entity示例
│
├── README.md                                    ✅ 项目说明
├── 快速开始.md                                   ✅ 快速启动指南
├── 项目完成情况.md                               ✅ 完成情况说明
├── 项目总览.md                                   ✅ 本文档
├── setup-project.sh                             ✅ 项目结构初始化脚本
├── generate-all-code.py                         ✅ 代码生成脚本
└── init-frontend.sh                             ✅ 前端初始化脚本
```

## 🎯 系统功能模块 (10个)

| 序号 | 模块名称 | 数据库表 | 说明 | 状态 |
|------|---------|---------|------|------|
| 1 | 用户管理 | sys_user | 用户注册、登录、权限管理 | ✅ 表已创建 |
| 2 | 添加剂分类管理 | additive_category | 分类体系管理 | ✅ 表已创建 |
| 3 | 添加剂信息管理 | food_additive | 添加剂基本信息管理 | ✅ 表已创建 |
| 4 | 供应商管理 | supplier | 供应商信息管理 | ✅ 表已创建 |
| 5 | 采购管理 | purchase_record | 采购单管理 | ✅ 表已创建 |
| 6 | 库存管理 | inventory | 库存信息管理 | ✅ 表已创建 |
| 7 | 使用记录管理 | usage_record | 使用记录登记 | ✅ 表已创建 |
| 8 | 检测报告管理 | test_report | 检测报告录入 | ✅ 表已创建 |
| 9 | 预警管理 | warning | 库存预警、过期预警 | ✅ 表已创建 |
| 10 | 操作日志 | operation_log | 系统操作日志 | ✅ 表已创建 |

## 🔗 表关联关系

所有表都有关联关系，无孤表：

```
sys_user (用户表)
  ├─→ operation_log (操作日志表) [一对多]
  ├─→ purchase_record (采购记录表) [一对多，采购员]
  ├─→ usage_record (使用记录表) [一对多，使用人]
  └─→ warning (预警表) [一对多，处理人]

additive_category (分类表)
  └─→ food_additive (添加剂信息表) [一对多]

food_additive (添加剂信息表)
  ├─→ inventory (库存表) [一对一]
  ├─→ purchase_record (采购记录表) [一对多]
  ├─→ usage_record (使用记录表) [一对多]
  ├─→ test_report (检测报告表) [一对多]
  └─→ warning (预警表) [一对多]

supplier (供应商表)
  └─→ purchase_record (采购记录表) [一对多]

inventory (库存表)
  └─→ warning (预警表) [一对多]
```

## 🚀 技术栈

### 后端技术栈
- **框架**: Spring Boot 2.7.18
- **ORM**: MyBatis Plus 3.5.3.1
- **数据库**: MySQL 8.0
- **连接池**: Druid 1.2.20
- **认证**: JWT (jjwt 0.9.1)
- **工具**: Lombok, Hutool, FastJSON
- **构建**: Maven 3.6+
- **JDK**: 1.8+

### 前端技术栈
- **框架**: Vue 2.6.14
- **UI组件**: Element UI 2.15.14
- **HTTP**: Axios 1.6.0
- **路由**: Vue Router 3.5.1
- **状态管理**: Vuex 3.6.2
- **图表**: ECharts 5.4.3 (管理端)
- **构建**: Vue CLI 5.0

## 📊 项目进度

### 已完成 ✅
1. ✅ 数据库设计 (10个表，所有表关联)
2. ✅ 项目结构创建
3. ✅ 后端Maven配置 (pom.xml)
4. ✅ 后端配置文件 (application.yml)
5. ✅ 后端启动类
6. ✅ 后端公共类 (Result)
7. ✅ 后端Mapper接口 (20个，用户端10个+管理端10个)
8. ✅ 后端Service接口 (20个)
9. ✅ 后端ServiceImpl实现 (20个)
10. ✅ 后端Controller控制器 (20个)
11. ✅ 代码生成脚本
12. ✅ 文档 (README, 快速开始, 开发指南等)

### 进行中 🔄
1. 🔄 后端Entity类生成 (需要使用代码生成器)
2. 🔄 后端公共类和配置类开发

### 待完成 ⚠️
1. ⚠️  后端业务逻辑完善
2. ⚠️  前端项目初始化
3. ⚠️  前端页面开发
4. ⚠️  前后端联调
5. ⚠️  系统测试
6. ⚠️  系统部署
7. ⚠️  实验报告编写

## 🎓 满足课程要求

### ✅ 模块数量要求
- 要求: 超过8个模块
- 实际: 10个模块
- 状态: ✅ 满足

### ✅ 表关联要求
- 要求: 所有表必须与另一个表有关联，不允许孤表
- 实际: 10个表全部关联，无孤表
- 状态: ✅ 满足

### ✅ 技术栈要求
- 要求: Vue + SpringBoot
- 实际: Vue 2.x + SpringBoot 2.7.18
- 状态: ✅ 满足

### ✅ 架构要求
- 要求: 用户端（前端+后端）与管理端（前端+后端）的组合
- 实际: 4个独立项目
  - user-backend (用户端后端)
  - user-frontend (用户端前端)
  - admin-backend (管理端后端)
  - admin-frontend (管理端前端)
- 状态: ✅ 满足

## 📝 默认账号

### 管理员账号
- 用户名: `admin`
- 密码: `123456`
- 角色: ADMIN
- 权限: 完整管理权限

### 普通用户账号
- 用户名: `user1` 或 `user2`
- 密码: `123456`
- 角色: USER
- 权限: 查询和提交使用记录

## 🔧 快速开始

### 1. 数据库初始化
```bash
mysql -u root -p < database/schema.sql
```

### 2. 生成Entity类
```bash
# 方式一: 使用提供的代码生成器
# 将 docs/CodeGenerator.java 复制到项目中运行

# 方式二: 使用IDEA插件 MyBatisX
# 连接数据库 -> 右键表名 -> 生成代码
```

### 3. 启动后端
```bash
# 用户端后端
cd user-backend
mvn spring-boot:run

# 管理端后端
cd admin-backend
mvn spring-boot:run
```

### 4. 初始化前端
```bash
bash init-frontend.sh
# 选择 3 (全部初始化)
```

### 5. 启动前端
```bash
# 用户端前端
cd user-frontend
npm run serve

# 管理端前端
cd admin-frontend
npm run serve
```

## 📞 访问地址

- 用户端前端: http://localhost:8080
- 用户端后端: http://localhost:8081/api/user
- 管理端前端: http://localhost:8083
- 管理端后端: http://localhost:8082/api/admin
- Druid监控: http://localhost:8081/api/user/druid (admin/admin)

## 📚 相关文档

1. [README.md](README.md) - 项目说明
2. [快速开始.md](快速开始.md) - 快速启动指南
3. [项目完成情况.md](项目完成情况.md) - 完成情况详细说明
4. [docs/开发指南.md](docs/开发指南.md) - 详细开发指南
5. [docs/CodeGenerator.java](docs/CodeGenerator.java) - 代码生成器
6. [docs/EntityExample.java](docs/EntityExample.java) - Entity示例

## 💡 重要提示

1. **必须先生成Entity类**，否则项目无法编译
2. 修改 `application.yml` 中的数据库密码
3. 确保MySQL服务已启动
4. 确保端口8080, 8081, 8082, 8083未被占用
5. 首次运行需要下载Maven依赖，可能需要较长时间

## 🎉 项目亮点

1. ✅ 完整的4个独立项目架构
2. ✅ 10个关联模块，无孤表
3. ✅ 自动化代码生成脚本
4. ✅ 详细的开发文档
5. ✅ 规范的代码结构
6. ✅ 完整的权限控制设计
7. ✅ 前后端分离架构
8. ✅ RESTful API设计

祝开发顺利！🚀

